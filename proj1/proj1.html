<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
			<title>Atari Combat-like</title>

			<script type="text/javascript" src="../Common/webgl-utils.js"></script>
			<script type="text/javascript" src="../Common/initShaders.js"></script>
			<script type="text/javascript" src="../Common/MV.js"></script>

			<script type="text/javascript" src="proj1.js"></script>

			<script type="x-shader/x-vertex" id="vertex-tank1">
				attribute vec4 tankPosition;
				uniform mat3 Mr;
				uniform mat3 Mt;
				void main()
				{
					float xi = tankPosition.x;
					float yi = tankPosition.y;
					float wi = 1.0;

					vec3 vi = vec3( xi, yi, wi );
					vec3 vf = Mt * Mr * vi;

					gl_Position.x = vf.x;
					gl_Position.y = vf.y;
					gl_Position.z = .0;
					gl_Position.w = vf[2];

					gl_PointSize = 1.0;
				}
			</script>
			<script type="x-shader/x-fragment" id="fragment-tank1">
				void main()
				{
					gl_FragColor = vec4( .0, .0, 1.0, 1.0 );
				}
			</script>

			<script type="x-shader/x-vertex" id="vertex-tank2">
				attribute vec4 tankPosition;
				uniform mat3 Mr;
				uniform mat3 Mt;
				void main()
				{
					float xi = tankPosition.x;
					float yi = tankPosition.y;
					float wi = 1.0;
					
					vec3 vi = vec3( xi, yi, wi );
					vec3 vf = Mt * Mr * vi;

					gl_Position.x = vf.x;
					gl_Position.y = vf.y;
					gl_Position.z = .0;
					gl_Position.w = vf[2];

					gl_PointSize = 1.0;
				}
			</script>
			<script type="x-shader/x-fragment" id="fragment-tank2">
				void main()
				{
					gl_FragColor = vec4( 1.0, .0, .0, 1.0 );
				}
			</script>

			<script type="x-shader/x-vertex" id="vertex-hitbox1">
				attribute vec4 hitboxPosition;
				uniform mat3 Mr;
				uniform mat3 Mt;
				void main()
				{
					float xi = hitboxPosition.x;
					float yi = hitboxPosition.y;
					float wi = 1.0;
					
					vec3 vi = vec3( xi, yi, wi );
					vec3 vf = Mt * Mr * vi;

					gl_Position.x = vf.x;
					gl_Position.y = vf.y;
					gl_Position.z = .0;
					gl_Position.w = vf[2];

					gl_PointSize = 1.0;
				}
			</script>
			<script type="x-shader/x-fragment" id="fragment-hitbox1">
				void main()
				{
					gl_FragColor = vec4( 1.0, .545, .24, 1.0 );
				}
			</script>
			<script type="x-shader/x-vertex" id="vertex-hitbox2">
				attribute vec4 hitboxPosition;
				uniform mat3 Mr;
				uniform mat3 Mt;
				void main()
				{
					float xi = hitboxPosition.x;
					float yi = hitboxPosition.y;
					float wi = 1.0;
					
					vec3 vi = vec3( xi, yi, wi );
					vec3 vf = Mt * Mr * vi;

					gl_Position.x = vf.x;
					gl_Position.y = vf.y;
					gl_Position.z = .0;
					gl_Position.w = vf[2];

					gl_PointSize = 1.0;
				}
			</script>
			<script type="x-shader/x-fragment" id="fragment-hitbox2">
				void main()
				{
					gl_FragColor = vec4( 1.0, .545, .24, 1.0 );
				}
			</script>

			<script type="x-shader/x-vertex" id="vertex-bullet1">
				attribute vec4 bulletPosition;
				uniform mat3 Mr;
				uniform mat3 Mt;
				void main()
				{
					float xi = bulletPosition.x;
					float yi = bulletPosition.y;
					float wi = 1.0;
					
					vec3 vi = vec3( xi, yi, wi );
					vec3 vf = Mt * Mr * vi;

					gl_Position.x = vf.x;
					gl_Position.y = vf.y;
					gl_Position.z = .0;
					gl_Position.w = vf[2];

					gl_PointSize = 1.0;
				}
			</script>
			<script type="x-shader/x-fragment" id="fragment-bullet1">
				void main()
				{
					gl_FragColor = vec4( .0, .0, 1.0, 1.0 );
				}
			</script>

			<script type="x-shader/x-vertex" id="vertex-bullet2">
				attribute vec4 bulletPosition;
				uniform mat3 Mr;
				uniform mat3 Mt;
				void main()
				{
					float xi = bulletPosition.x;
					float yi = bulletPosition.y;
					float wi = 1.0;
					
					vec3 vi = vec3( xi, yi, wi );
					vec3 vf = Mt * Mr * vi;

					gl_Position.x = vf.x;
					gl_Position.y = vf.y;
					gl_Position.z = .0;
					gl_Position.w = vf[2];

					gl_PointSize = 1.0;
				}
			</script>
			<script type="x-shader/x-fragment" id="fragment-bullet2">
				void main()
				{
					gl_FragColor = vec4( 1.0, .0, .0, 1.0 );
				}
			</script>

	</head>

	<body onload="init();">
		<h1>CS452 Project 1 Assignment</h1>
		<h3>Controls</h3>
		<p>Player 1: WASD to move, E to shoot</p>
		<p>Player 2: IJKL to move, O to shoot</p>
		<p>Press "Reset Game" to keep your current score, or "Reset Game & Score" to reset your score</p>
		<h3>Goal</h3>
		<p>Move your tank to face the enemy, and shoot them to win!</p>
		<canvas id="gl-canvas" width="512" height="512">
		</canvas>
		<br>
		<button onclick="toggleHitbox()">Toggle Hitboxes</button>
		<button onclick="reset()">Reset Game</button>
		<button onclick="init()">Reset Game & Score</button>
		<p>Created by Iselda Aiello</p>
	</body>
</html>
